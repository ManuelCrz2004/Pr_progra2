#: import Window kivy.core.window.Window

<FlatButton@ButtonBehavior+Label>:
    text: 'default'

<Ventana_Administrador>:
    id: main_win
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos
    
    BoxLayout:
        id: top_nav
        size_hint_y: None
        height: 30
        canvas.before:
            Color:
                rgba: (.06, .45, .45,1)
            Rectangle:
                size: self.size
                pos: self.pos
        
        FlatButton:
            id: cerrar_sesion
            text: ' Cerrar Sesión'
            on_release: file_dropdown.open(self)
            size_hint: (.1,None)
            height: 30

            Widget:
                on_parent: file_dropdown.dismiss()
            
                DropDown:
                    id: file_dropdown

                    Button:
                        id: close
                        text: 'Salir'
                        size_hint_y: None
                        height: 30
                        on_release: Window.close()
        Label:
            text: 'Menú Administrador'
            bold: True
            size_hint: (.9,None)
            height: 30

    BoxLayout:
        id: content_nav

        BoxLayout:
            id: sub_menus
            size_hint_x: .2
            orientation: 'vertical'
            spacing: 3
            canvas.before:
                Color:
                    rgba: (.06, .52, .52,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            ToggleButton:
                id: analysis_toggle
                text: 'Video Bienvenida'
                size_hint_y: .1
                background_color: (.06, .47, .47, 1)
                background_normal: ''
                group: 'admin_navs'
                on_state: root.cambio_pantalla(self)
            ToggleButton:
                id: menu_usuarios
                text: 'Administrar Usuarios'
                size_hint_y: .1
                state: 'down'
                background_color: (.06, .47, .47, 1)
                background_normal: ''
                group: 'admin_navs'
                on_state: root.cambio_pantalla(self)
            ToggleButton:
                id: products_toggle
                text: 'Administrar Inventario'
                size_hint_y: .1
                background_color: (.06, .47, .47, 1)
                background_normal: ''
                group: 'admin_navs'
                on_state: root.cambio_pantalla(self)
            Label:
                id: espaciado
                text: ''
                size_hint_y: .7

        BoxLayout:
            id: pantalla_central
            size_hint_x: .8
            padding: (20,10)
            ScreenManager:
                id: scrn_mngr
                Screen:
                    id: scrn_content
                    name: 'scrn_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: contenido_pantallas
                        BoxLayout:
                            id: campos_operacion_usuario
                            spacing: 10
                            size_hint_y: None
                            height: 35
                        BoxLayout:
                            id: botones_operacion_usuario
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Button:
                                id: ejecute_agregar_usr
                                text: 'Añadir Usuario'
                                on_release: root.agregar_campos_usr()
                            Button:
                                id: ejecute_actualizar_usr
                                text: 'Actualizar Usuario'
                                on_release: root.actualizar_usr_campos()
                            Button:
                                id: ejecute_remover_usr
                                text: 'Remover Usuario'
                                on_release: root.remover_usr_campo()
                Screen:
                    id: scrn_product_content
                    name: 'scrn_product_content'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            id: scrn_product_contents
                        BoxLayout:
                            id: campos_operacion_productos
                            spacing: 10
                            size_hint_y: None
                            height: 35
                        BoxLayout:
                            id: botones_operacion_productos
                            spacing: 10
                            size_hint_y: None
                            height: 45
                            Button:
                                id: ejecute_agregar_productos
                                text: 'Añadir Producto'
                                on_release: root.agregar_campos_producto()
                            Button:
                                id: ejecute_actualizar_productos
                                text: 'Actualizar Producto'
                                on_release: root.actualizar_productos_campo()
                            Button:
                                id: ejecute_remover_productos
                                text: 'Remover Productos'
                                on_release: root.remover_productps_campo()
                Screen:
                    id: scrn_analysis
                    name: 'scrn_analysis'
                    BoxLayout:
                        orientation: 'vertical'
                        spacing: 10
                        BoxLayout:
                            # orientation: 'vertical'
                            size_hint_y: None
                            height: 45
                            Spinner:
                                id: target_product
                                text: 'Choose Product'
                            Button:
                                id: submit_analysis
                                text: 'View Stats'
                                size_hint_x: .3
                                on_release: root.view_stats()
                        BoxLayout:
                            id: analysis_res

                

